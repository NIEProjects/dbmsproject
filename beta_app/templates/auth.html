<!DOCTYPE html>
<html>
	<head>
		<title>Nanna Radio</title>
		<style type="text/css">
			*{
				text-align: center;
				padding: 5px;
			}
			.container{
				text-align: center;
				border: 1px solid black;
				padding: 10px;
			}
			.responseText{
				border: 1px solid black;
				<!-- background-color: rgba(249, 6, 6, 0.72); -->
			}
		</style>

	</head>
	<body>
		<h1>Please login to continue</h1>
		<div class="container">
			<!-- <form name="loginForm"> -->
			<!-- Correct Username: chait ;Password: pass-->
				<div>
					Email : <input type="email" id = "username" name="user" required>
				</div>
				<div>
					Password : <input type="password" id="password" required>
				</div>
				<div>
					<button onclick="login()">Log In</button>
				</div>
			<!-- </form> -->
			<div id="response" class="responseText"></div>
		</div>
			<script type="text/javascript">
				function login () {
					var username = document.getElementById('username').value,
						password = document.getElementById('password').value,
						res = document.getElementById('response'),
						xhr = new XMLHttpRequest();

					var params = {
						username : username,
						password : password
					};
					//Opening and sending a XHR request
					xhr.open('POST','/login',true);
					xhr.send(JSON.stringify(params));

					xhr.onreadystatechange = function(){
						if(xhr.readyState == 2 || xhr.readyState == 3){
							res.innerHTML = 'Request sent, waiting for response';
						}
						if(xhr.readyState == 4 && xhr.status == 200){
							// res.innerHTML = this.responseText;
							// console.log(JSON.stringify(this.responseText));
							console.log("Checking Successfull Request");
							console.log(xhr);
							setTimeout(function(){
								res.innerHTML = xhr.responseText;
							},2000);
						}
					}
				}
		</script>
	</body>
</html>
